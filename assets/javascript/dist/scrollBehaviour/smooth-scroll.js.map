{"version":3,"file":"smooth-scroll.js","sources":["scrollBehaviour/smooth-scroll.js"],"sourcesContent":["// SmoothScroll for websites v1.4.10 (@tx_haseeb)\r\n// http://www.smoothscroll.net/\r\n\r\n// Licensed under the terms of the MIT license.\r\n\r\n// You may use it in your theme if you credit me.\r\n// It is also free to use on any individual website.\r\n\r\n// Exception:\r\n// The only restriction is to not publish any\r\n// extension for browsers or native application\r\n// without getting a written permission first.\r\n\r\n\r\n(function() {\r\n\r\n    // Scroll Variables (tweakable)\r\n    var defaultOptions = {\r\n\r\n        // Scrolling Core\r\n        frameRate: 150, // [Hz]\r\n        animationTime: 700, // [ms] trasition of scroll effect \r\n        stepSize: 100, // [px]  pixels to moveUp when scroll up & move down when scroll down \r\n\r\n        // Pulse (less tweakable)\r\n        // ratio of \"tail\" to \"acceleration\"\r\n        pulseAlgorithm: true,\r\n        pulseScale: 4,\r\n        pulseNormalize: 1,\r\n\r\n        // Acceleration\r\n        accelerationDelta: 50, // 50\r\n        accelerationMax: 3, // 3\r\n\r\n        // Keyboard Settings\r\n        keyboardSupport: true, // option\r\n        arrowScroll: 120, // [px]  px move up down on kwboard up down arow ke pressed\r\n\r\n        // Other\r\n        fixedBackground: true,\r\n        excluded: ''\r\n    };\r\n\r\n    var options = defaultOptions;\r\n\r\n\r\n    // Other Variables\r\n    var isExcluded = false;\r\n    var isFrame = false;\r\n    var direction = { x: 0, y: 0 };\r\n    var initDone = false;\r\n    var root = document.documentElement;\r\n    var activeElement;\r\n    var observer;\r\n    var refreshSize;\r\n    var deltaBuffer = [];\r\n    var deltaBufferTimer;\r\n    var isMac = /^Mac/.test(navigator.platform);\r\n\r\n    var key = {\r\n        left: 37,\r\n        up: 38,\r\n        right: 39,\r\n        down: 40,\r\n        spacebar: 32,\r\n        pageup: 33,\r\n        pagedown: 34,\r\n        end: 35,\r\n        home: 36\r\n    };\r\n    var arrowKeys = { 37: 1, 38: 1, 39: 1, 40: 1 };\r\n\r\n    /***********************************************\r\n     * INITIALIZE\r\n     ***********************************************/\r\n\r\n    /**\r\n     * Tests if smooth scrolling is allowed. Shuts down everything if not.\r\n     */\r\n    function initTest() {\r\n        if (options.keyboardSupport) {\r\n            addEvent('keydown', keydown);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets up scrolls array, determines if frames are involved.\r\n     */\r\n    function init() {\r\n\r\n        if (initDone || !document.body) return;\r\n\r\n        initDone = true;\r\n\r\n        var body = document.body;\r\n        var html = document.documentElement;\r\n        var windowHeight = window.innerHeight;\r\n        var scrollHeight = body.scrollHeight;\r\n\r\n        // check compat mode for root element\r\n        root = (document.compatMode.indexOf('CSS') >= 0) ? html : body;\r\n        activeElement = body;\r\n\r\n        initTest();\r\n\r\n        // Checks if this script is running in a frame\r\n        if (top != self) {\r\n            isFrame = true;\r\n        }\r\n\r\n        /**\r\n         * Safari 10 fixed it, Chrome fixed it in v45:\r\n         * This fixes a bug where the areas left and right to \r\n         * the content does not trigger the onmousewheel event\r\n         * on some pages. e.g.: html, body { height: 100% }\r\n         */\r\n        else if (isOldSafari &&\r\n            scrollHeight > windowHeight &&\r\n            (body.offsetHeight <= windowHeight ||\r\n                html.offsetHeight <= windowHeight)) {\r\n\r\n            var fullPageElem = document.createElement('div');\r\n            fullPageElem.style.cssText = 'position:absolute; z-index:-10000; ' +\r\n                'top:0; left:0; right:0; height:' +\r\n                root.scrollHeight + 'px';\r\n            document.body.appendChild(fullPageElem);\r\n\r\n            // DOM changed (throttled) to fix height\r\n            var pendingRefresh;\r\n            refreshSize = function() {\r\n                if (pendingRefresh) return; // could also be: clearTimeout(pendingRefresh);\r\n                pendingRefresh = setTimeout(function() {\r\n                    if (isExcluded) return; // could be running after cleanup\r\n                    fullPageElem.style.height = '0';\r\n                    fullPageElem.style.height = root.scrollHeight + 'px';\r\n                    pendingRefresh = null;\r\n                }, 500); // act rarely to stay fast\r\n            };\r\n\r\n            setTimeout(refreshSize, 10);\r\n\r\n            addEvent('resize', refreshSize);\r\n\r\n            // TODO: attributeFilter?\r\n            var config = {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: false\r\n                    // subtree: true\r\n            };\r\n\r\n            observer = new MutationObserver(refreshSize);\r\n            observer.observe(body, config);\r\n\r\n            if (root.offsetHeight <= windowHeight) {\r\n                var clearfix = document.createElement('div');\r\n                clearfix.style.clear = 'both';\r\n                body.appendChild(clearfix);\r\n            }\r\n        }\r\n\r\n        // disable fixed background\r\n        if (!options.fixedBackground && !isExcluded) {\r\n            body.style.backgroundAttachment = 'scroll';\r\n            html.style.backgroundAttachment = 'scroll';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes event listeners and other traces left on the page.\r\n     */\r\n    function cleanup() {\r\n        observer && observer.disconnect();\r\n        removeEvent(wheelEvent, wheel);\r\n        removeEvent('mousedown', mousedown);\r\n        removeEvent('keydown', keydown);\r\n        removeEvent('resize', refreshSize);\r\n        removeEvent('load', init);\r\n    }\r\n\r\n\r\n    /************************************************\r\n     * SCROLLING \r\n     ************************************************/\r\n\r\n    var que = [];\r\n    var pending = false;\r\n    var lastScroll = Date.now();\r\n\r\n    /**\r\n     * Pushes scroll actions to the scrolling queue.\r\n     */\r\n    function scrollArray(elem, left, top) {\r\n\r\n        directionCheck(left, top);\r\n\r\n        if (options.accelerationMax != 1) {\r\n            var now = Date.now();\r\n            var elapsed = now - lastScroll;\r\n            if (elapsed < options.accelerationDelta) {\r\n                var factor = (1 + (50 / elapsed)) / 2;\r\n                if (factor > 1) {\r\n                    factor = Math.min(factor, options.accelerationMax);\r\n                    left *= factor;\r\n                    top *= factor;\r\n                }\r\n            }\r\n            lastScroll = Date.now();\r\n        }\r\n\r\n        // push a scroll command\r\n        que.push({\r\n            x: left,\r\n            y: top,\r\n            lastX: (left < 0) ? 0.99 : -0.99,\r\n            lastY: (top < 0) ? 0.99 : -0.99,\r\n            start: Date.now()\r\n        });\r\n\r\n        // don't act if there's a pending queue\r\n        if (pending) {\r\n            return;\r\n        }\r\n\r\n        var scrollRoot = getScrollRoot();\r\n        var isWindowScroll = (elem === scrollRoot || elem === document.body);\r\n\r\n        // if we haven't already fixed the behavior, \r\n        // and it needs fixing for this sesh\r\n        if (elem.$scrollBehavior == null && isScrollBehaviorSmooth(elem)) {\r\n            elem.$scrollBehavior = elem.style.scrollBehavior;\r\n            elem.style.scrollBehavior = 'auto';\r\n        }\r\n\r\n        var step = function(time) {\r\n\r\n            var now = Date.now();\r\n            var scrollX = 0;\r\n            var scrollY = 0;\r\n\r\n            for (var i = 0; i < que.length; i++) {\r\n\r\n                var item = que[i];\r\n                var elapsed = now - item.start;\r\n                var finished = (elapsed >= options.animationTime);\r\n\r\n                // scroll position: [0, 1]\r\n                var position = (finished) ? 1 : elapsed / options.animationTime;\r\n\r\n                // easing [optional]\r\n                if (options.pulseAlgorithm) {\r\n                    position = pulse(position);\r\n                }\r\n\r\n                // only need the difference\r\n                var x = (item.x * position - item.lastX) >> 0;\r\n                var y = (item.y * position - item.lastY) >> 0;\r\n\r\n                // add this to the total scrolling\r\n                scrollX += x;\r\n                scrollY += y;\r\n\r\n                // update last values\r\n                item.lastX += x;\r\n                item.lastY += y;\r\n\r\n                // delete and step back if it's over\r\n                if (finished) {\r\n                    que.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            // scroll left and top\r\n            if (isWindowScroll) {\r\n                window.scrollBy(scrollX, scrollY);\r\n            } else {\r\n                if (scrollX) elem.scrollLeft += scrollX;\r\n                if (scrollY) elem.scrollTop += scrollY;\r\n            }\r\n\r\n            // clean up if there's nothing left to do\r\n            if (!left && !top) {\r\n                que = [];\r\n            }\r\n\r\n            if (que.length) {\r\n                requestFrame(step, elem, (1000 / options.frameRate + 1));\r\n            } else {\r\n                pending = false;\r\n                // restore default behavior at the end of scrolling sesh\r\n                if (elem.$scrollBehavior != null) {\r\n                    elem.style.scrollBehavior = elem.$scrollBehavior;\r\n                    elem.$scrollBehavior = null;\r\n                }\r\n            }\r\n        };\r\n\r\n        // start a new queue of actions\r\n        requestFrame(step, elem, 0);\r\n        pending = true;\r\n    }\r\n\r\n\r\n    /***********************************************\r\n     * EVENTS\r\n     ***********************************************/\r\n\r\n    /**\r\n     * Mouse wheel handler.\r\n     * @param {Object} event\r\n     */\r\n    function wheel(event) {\r\n\r\n        if (!initDone) {\r\n            init();\r\n        }\r\n\r\n        var target = event.target;\r\n\r\n        // leave early if default action is prevented   \r\n        // or it's a zooming event with CTRL \r\n        if (event.defaultPrevented || event.ctrlKey) {\r\n            return true;\r\n        }\r\n\r\n        // leave embedded content alone (flash & pdf)\r\n        if (isNodeName(activeElement, 'embed') ||\r\n            (isNodeName(target, 'embed') && /\\.pdf/i.test(target.src)) ||\r\n            isNodeName(activeElement, 'object') ||\r\n            target.shadowRoot) {\r\n            return true;\r\n        }\r\n\r\n        var deltaX = -event.wheelDeltaX || event.deltaX || 0;\r\n        var deltaY = -event.wheelDeltaY || event.deltaY || 0;\r\n\r\n        if (isMac) {\r\n            if (event.wheelDeltaX && isDivisible(event.wheelDeltaX, 120)) {\r\n                deltaX = -120 * (event.wheelDeltaX / Math.abs(event.wheelDeltaX));\r\n            }\r\n            if (event.wheelDeltaY && isDivisible(event.wheelDeltaY, 120)) {\r\n                deltaY = -120 * (event.wheelDeltaY / Math.abs(event.wheelDeltaY));\r\n            }\r\n        }\r\n\r\n        // use wheelDelta if deltaX/Y is not available\r\n        if (!deltaX && !deltaY) {\r\n            deltaY = -event.wheelDelta || 0;\r\n        }\r\n\r\n        // line based scrolling (Firefox mostly)\r\n        if (event.deltaMode === 1) {\r\n            deltaX *= 40;\r\n            deltaY *= 40;\r\n        }\r\n\r\n        var overflowing = overflowingAncestor(target);\r\n\r\n        // nothing to do if there's no element that's scrollable\r\n        if (!overflowing) {\r\n            // except Chrome iframes seem to eat wheel events, which we need to \r\n            // propagate up, if the iframe has nothing overflowing to scroll\r\n            if (isFrame && isChrome) {\r\n                // change target to iframe element itself for the parent frame\r\n                Object.defineProperty(event, \"target\", { value: window.frameElement });\r\n                return parent.wheel(event);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        // check if it's a touchpad scroll that should be ignored\r\n        if (isTouchpad(deltaY)) {\r\n            return true;\r\n        }\r\n\r\n        // scale by step size\r\n        // delta is 120 most of the time\r\n        // synaptics seems to send 1 sometimes\r\n        if (Math.abs(deltaX) > 1.2) {\r\n            deltaX *= options.stepSize / 120;\r\n        }\r\n        if (Math.abs(deltaY) > 1.2) {\r\n            deltaY *= options.stepSize / 120;\r\n        }\r\n\r\n        scrollArray(overflowing, deltaX, deltaY);\r\n        event.preventDefault();\r\n        scheduleClearCache();\r\n    }\r\n\r\n    /**\r\n     * Keydown event handler.\r\n     * @param {Object} event\r\n     */\r\n    function keydown(event) {\r\n\r\n        var target = event.target;\r\n        var modifier = event.ctrlKey || event.altKey || event.metaKey ||\r\n            (event.shiftKey && event.keyCode !== key.spacebar);\r\n\r\n        // our own tracked active element could've been removed from the DOM\r\n        if (!document.body.contains(activeElement)) {\r\n            activeElement = document.activeElement;\r\n        }\r\n\r\n        // do nothing if user is editing text\r\n        // or using a modifier key (except shift)\r\n        // or in a dropdown\r\n        // or inside interactive elements\r\n        var inputNodeNames = /^(textarea|select|embed|object)$/i;\r\n        var buttonTypes = /^(button|submit|radio|checkbox|file|color|image)$/i;\r\n        if (event.defaultPrevented ||\r\n            inputNodeNames.test(target.nodeName) ||\r\n            isNodeName(target, 'input') && !buttonTypes.test(target.type) ||\r\n            isNodeName(activeElement, 'video') ||\r\n            isInsideYoutubeVideo(event) ||\r\n            target.isContentEditable ||\r\n            modifier) {\r\n            return true;\r\n        }\r\n\r\n        // [spacebar] should trigger button press, leave it alone\r\n        if ((isNodeName(target, 'button') ||\r\n                isNodeName(target, 'input') && buttonTypes.test(target.type)) &&\r\n            event.keyCode === key.spacebar) {\r\n            return true;\r\n        }\r\n\r\n        // [arrwow keys] on radio buttons should be left alone\r\n        if (isNodeName(target, 'input') && target.type == 'radio' &&\r\n            arrowKeys[event.keyCode]) {\r\n            return true;\r\n        }\r\n\r\n        var shift, x = 0,\r\n            y = 0;\r\n        var overflowing = overflowingAncestor(activeElement);\r\n\r\n        if (!overflowing) {\r\n            // Chrome iframes seem to eat key events, which we need to \r\n            // propagate up, if the iframe has nothing overflowing to scroll\r\n            return (isFrame && isChrome) ? parent.keydown(event) : true;\r\n        }\r\n\r\n        var clientHeight = overflowing.clientHeight;\r\n\r\n        if (overflowing == document.body) {\r\n            clientHeight = window.innerHeight;\r\n        }\r\n\r\n        switch (event.keyCode) {\r\n            case key.up:\r\n                y = -options.arrowScroll;\r\n                break;\r\n            case key.down:\r\n                y = options.arrowScroll;\r\n                break;\r\n            case key.spacebar: // (+ shift)\r\n                shift = event.shiftKey ? 1 : -1;\r\n                y = -shift * clientHeight * 0.9;\r\n                break;\r\n            case key.pageup:\r\n                y = -clientHeight * 0.9;\r\n                break;\r\n            case key.pagedown:\r\n                y = clientHeight * 0.9;\r\n                break;\r\n            case key.home:\r\n                if (overflowing == document.body && document.scrollingElement)\r\n                    overflowing = document.scrollingElement;\r\n                y = -overflowing.scrollTop;\r\n                break;\r\n            case key.end:\r\n                var scroll = overflowing.scrollHeight - overflowing.scrollTop;\r\n                var scrollRemaining = scroll - clientHeight;\r\n                y = (scrollRemaining > 0) ? scrollRemaining + 10 : 0;\r\n                break;\r\n            case key.left:\r\n                x = -options.arrowScroll;\r\n                break;\r\n            case key.right:\r\n                x = options.arrowScroll;\r\n                break;\r\n            default:\r\n                return true; // a key we don't care about\r\n        }\r\n\r\n        scrollArray(overflowing, x, y);\r\n        event.preventDefault();\r\n        scheduleClearCache();\r\n    }\r\n\r\n    /**\r\n     * Mousedown event only for updating activeElement\r\n     */\r\n    function mousedown(event) {\r\n        activeElement = event.target;\r\n    }\r\n\r\n\r\n    /***********************************************\r\n     * OVERFLOW\r\n     ***********************************************/\r\n\r\n    var uniqueID = (function() {\r\n        var i = 0;\r\n        return function(el) {\r\n            return el.uniqueID || (el.uniqueID = i++);\r\n        };\r\n    })();\r\n\r\n    var cacheX = {}; // cleared out after a scrolling session\r\n    var cacheY = {}; // cleared out after a scrolling session\r\n    var clearCacheTimer;\r\n    var smoothBehaviorForElement = {};\r\n\r\n    //setInterval(function () { cache = {}; }, 10 * 1000);\r\n\r\n    function scheduleClearCache() {\r\n        clearTimeout(clearCacheTimer);\r\n        clearCacheTimer = setInterval(function() {\r\n            cacheX = cacheY = smoothBehaviorForElement = {};\r\n        }, 1 * 1000);\r\n    }\r\n\r\n    function setCache(elems, overflowing, x) {\r\n        var cache = x ? cacheX : cacheY;\r\n        for (var i = elems.length; i--;)\r\n            cache[uniqueID(elems[i])] = overflowing;\r\n        return overflowing;\r\n    }\r\n\r\n    function getCache(el, x) {\r\n        return (x ? cacheX : cacheY)[uniqueID(el)];\r\n    }\r\n\r\n    //  (body)                (root)\r\n    //         | hidden | visible | scroll |  auto  |\r\n    // hidden  |   no   |    no   |   YES  |   YES  |\r\n    // visible |   no   |   YES   |   YES  |   YES  |\r\n    // scroll  |   no   |   YES   |   YES  |   YES  |\r\n    // auto    |   no   |   YES   |   YES  |   YES  |\r\n\r\n    function overflowingAncestor(el) {\r\n        var elems = [];\r\n        var body = document.body;\r\n        var rootScrollHeight = root.scrollHeight;\r\n        do {\r\n            var cached = getCache(el, false);\r\n            if (cached) {\r\n                return setCache(elems, cached);\r\n            }\r\n            elems.push(el);\r\n            if (rootScrollHeight === el.scrollHeight) {\r\n                var topOverflowsNotHidden = overflowNotHidden(root) && overflowNotHidden(body);\r\n                var isOverflowCSS = topOverflowsNotHidden || overflowAutoOrScroll(root);\r\n                if (isFrame && isContentOverflowing(root) ||\r\n                    !isFrame && isOverflowCSS) {\r\n                    return setCache(elems, getScrollRoot());\r\n                }\r\n            } else if (isContentOverflowing(el) && overflowAutoOrScroll(el)) {\r\n                return setCache(elems, el);\r\n            }\r\n        } while ((el = el.parentElement));\r\n    }\r\n\r\n    function isContentOverflowing(el) {\r\n        return (el.clientHeight + 10 < el.scrollHeight);\r\n    }\r\n\r\n    // typically for <body> and <html>\r\n    function overflowNotHidden(el) {\r\n        var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\r\n        return (overflow !== 'hidden');\r\n    }\r\n\r\n    // for all other elements\r\n    function overflowAutoOrScroll(el) {\r\n        var overflow = getComputedStyle(el, '').getPropertyValue('overflow-y');\r\n        return (overflow === 'scroll' || overflow === 'auto');\r\n    }\r\n\r\n    // for all other elements\r\n    function isScrollBehaviorSmooth(el) {\r\n        var id = uniqueID(el);\r\n        if (smoothBehaviorForElement[id] == null) {\r\n            var scrollBehavior = getComputedStyle(el, '')['scroll-behavior'];\r\n            smoothBehaviorForElement[id] = ('smooth' == scrollBehavior);\r\n        }\r\n        return smoothBehaviorForElement[id];\r\n    }\r\n\r\n\r\n    /***********************************************\r\n     * HELPERS\r\n     ***********************************************/\r\n\r\n    function addEvent(type, fn, arg) {\r\n        window.addEventListener(type, fn, arg || false);\r\n    }\r\n\r\n    function removeEvent(type, fn, arg) {\r\n        window.removeEventListener(type, fn, arg || false);\r\n    }\r\n\r\n    function isNodeName(el, tag) {\r\n        return el && (el.nodeName || '').toLowerCase() === tag.toLowerCase();\r\n    }\r\n\r\n    function directionCheck(x, y) {\r\n        x = (x > 0) ? 1 : -1;\r\n        y = (y > 0) ? 1 : -1;\r\n        if (direction.x !== x || direction.y !== y) {\r\n            direction.x = x;\r\n            direction.y = y;\r\n            que = [];\r\n            lastScroll = 0;\r\n        }\r\n    }\r\n\r\n    if (window.localStorage && localStorage.SS_deltaBuffer) {\r\n        try { // #46 Safari throws in private browsing for localStorage \r\n            deltaBuffer = localStorage.SS_deltaBuffer.split(',');\r\n        } catch (e) {}\r\n    }\r\n\r\n    function isTouchpad(deltaY) {\r\n        if (!deltaY) return;\r\n        if (!deltaBuffer.length) {\r\n            deltaBuffer = [deltaY, deltaY, deltaY];\r\n        }\r\n        deltaY = Math.abs(deltaY);\r\n        deltaBuffer.push(deltaY);\r\n        deltaBuffer.shift();\r\n        clearTimeout(deltaBufferTimer);\r\n        deltaBufferTimer = setTimeout(function() {\r\n            try { // #46 Safari throws in private browsing for localStorage\r\n                localStorage.SS_deltaBuffer = deltaBuffer.join(',');\r\n            } catch (e) {}\r\n        }, 1000);\r\n        var dpiScaledWheelDelta = deltaY > 120 && allDeltasDivisableBy(deltaY); // win64 \r\n        var tp = !allDeltasDivisableBy(120) && !allDeltasDivisableBy(100) && !dpiScaledWheelDelta;\r\n        if (deltaY < 50) return true;\r\n        return tp;\r\n    }\r\n\r\n    function isDivisible(n, divisor) {\r\n        return (Math.floor(n / divisor) == n / divisor);\r\n    }\r\n\r\n    function allDeltasDivisableBy(divisor) {\r\n        return (isDivisible(deltaBuffer[0], divisor) &&\r\n            isDivisible(deltaBuffer[1], divisor) &&\r\n            isDivisible(deltaBuffer[2], divisor));\r\n    }\r\n\r\n    function isInsideYoutubeVideo(event) {\r\n        var elem = event.target;\r\n        var isControl = false;\r\n        if (document.URL.indexOf('www.youtube.com/watch') != -1) {\r\n            do {\r\n                isControl = (elem.classList &&\r\n                    elem.classList.contains('html5-video-controls'));\r\n                if (isControl) break;\r\n            } while ((elem = elem.parentNode));\r\n        }\r\n        return isControl;\r\n    }\r\n\r\n    var requestFrame = (function() {\r\n        return (window.requestAnimationFrame ||\r\n            window.webkitRequestAnimationFrame ||\r\n            window.mozRequestAnimationFrame ||\r\n            function(callback, element, delay) {\r\n                window.setTimeout(callback, delay || (1000 / 60));\r\n            });\r\n    })();\r\n\r\n    var MutationObserver = (window.MutationObserver ||\r\n        window.WebKitMutationObserver ||\r\n        window.MozMutationObserver);\r\n\r\n    var getScrollRoot = (function() {\r\n        var SCROLL_ROOT = document.scrollingElement;\r\n        return function() {\r\n            if (!SCROLL_ROOT) {\r\n                var dummy = document.createElement('div');\r\n                dummy.style.cssText = 'height:10000px;width:1px;';\r\n                document.body.appendChild(dummy);\r\n                var bodyScrollTop = document.body.scrollTop;\r\n                var docElScrollTop = document.documentElement.scrollTop;\r\n                window.scrollBy(0, 3);\r\n                if (document.body.scrollTop != bodyScrollTop)\r\n                    (SCROLL_ROOT = document.body);\r\n                else\r\n                    (SCROLL_ROOT = document.documentElement);\r\n                window.scrollBy(0, -3);\r\n                document.body.removeChild(dummy);\r\n            }\r\n            return SCROLL_ROOT;\r\n        };\r\n    })();\r\n\r\n\r\n    /***********************************************\r\n     * PULSE (by Michael Herf)\r\n     ***********************************************/\r\n\r\n    /**\r\n     * Viscous fluid with a pulse for part and decay for the rest.\r\n     * - Applies a fixed force over an interval (a damped acceleration), and\r\n     * - Lets the exponential bleed away the velocity over a longer interval\r\n     * - Michael Herf, http://stereopsis.com/stopping/\r\n     */\r\n    function pulse_(x) {\r\n        var val, start, expx;\r\n        // test\r\n        x = x * options.pulseScale;\r\n        if (x < 1) { // acceleartion\r\n            val = x - (1 - Math.exp(-x));\r\n        } else { // tail\r\n            // the previous animation ended here:\r\n            start = Math.exp(-1);\r\n            // simple viscous drag\r\n            x -= 1;\r\n            expx = 1 - Math.exp(-x);\r\n            val = start + (expx * (1 - start));\r\n        }\r\n        return val * options.pulseNormalize;\r\n    }\r\n\r\n    function pulse(x) {\r\n        if (x >= 1) return 1;\r\n        if (x <= 0) return 0;\r\n\r\n        if (options.pulseNormalize == 1) {\r\n            options.pulseNormalize /= pulse_(1);\r\n        }\r\n        return pulse_(x);\r\n    }\r\n\r\n\r\n    /***********************************************\r\n     * FIRST RUN\r\n     ***********************************************/\r\n\r\n    var userAgent = window.navigator.userAgent;\r\n    var isEdge = /Edge/.test(userAgent); // thank you MS\r\n    var isChrome = /chrome/i.test(userAgent) && !isEdge;\r\n    var isSafari = /safari/i.test(userAgent) && !isEdge;\r\n    var isMobile = /mobile/i.test(userAgent);\r\n    var isIEWin7 = /Windows NT 6.1/i.test(userAgent) && /rv:11/i.test(userAgent);\r\n    var isOldSafari = isSafari && (/Version\\/8/i.test(userAgent) || /Version\\/9/i.test(userAgent));\r\n    var isEnabledForBrowser = (isChrome || isSafari || isIEWin7) && !isMobile;\r\n\r\n    var supportsPassive = false;\r\n    try {\r\n        window.addEventListener(\"test\", null, Object.defineProperty({}, 'passive', {\r\n            get: function() {\r\n                supportsPassive = true;\r\n            }\r\n        }));\r\n    } catch (e) {}\r\n\r\n    var wheelOpt = supportsPassive ? { passive: false } : false;\r\n    var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\r\n\r\n    if (wheelEvent && isEnabledForBrowser) {\r\n        addEvent(wheelEvent, wheel, wheelOpt);\r\n        addEvent('mousedown', mousedown);\r\n        addEvent('load', init);\r\n    }\r\n\r\n\r\n    /***********************************************\r\n     * PUBLIC INTERFACE\r\n     ***********************************************/\r\n\r\n    function SmoothScroll(optionsToSet) {\r\n        for (var key in optionsToSet)\r\n            if (defaultOptions.hasOwnProperty(key))\r\n                options[key] = optionsToSet[key];\r\n    }\r\n    SmoothScroll.destroy = cleanup;\r\n\r\n    if (window.SmoothScrollOptions) // async API\r\n        SmoothScroll(window.SmoothScrollOptions);\r\n\r\n    if (typeof define === 'function' && define.amd)\r\n        define(function() {\r\n            return SmoothScroll;\r\n        });\r\n    else if ('object' == typeof exports)\r\n        module.exports = SmoothScroll;\r\n    else\r\n        window.SmoothScroll = SmoothScroll;\r\n\r\n})();"],"names":["activeElement","observer","refreshSize","deltaBufferTimer","defaultOptions","frameRate","animationTime","stepSize","pulseAlgorithm","pulseScale","pulseNormalize","accelerationDelta","accelerationMax","keyboardSupport","arrowScroll","fixedBackground","excluded","options","isExcluded","isFrame","direction","x","y","initDone","root","document","documentElement","deltaBuffer","isMac","test","navigator","platform","key","left","up","right","down","spacebar","pageup","pagedown","end","home","arrowKeys","37","38","39","40","init","body","html","windowHeight","fullPageElem","pendingRefresh","clearfix","window","innerHeight","scrollHeight","compatMode","indexOf","addEvent","keydown","top","self","isOldSafari","offsetHeight","createElement","style","cssText","appendChild","setTimeout","height","MutationObserver","observe","attributes","childList","characterData","clear","backgroundAttachment","que","pending","lastScroll","Date","now","scrollArray","elem","factor","scrollRoot","isWindowScroll","step","elapsed","Math","min","push","lastX","lastY","start","getScrollRoot","$scrollBehavior","el","id","uniqueID","smoothBehaviorForElement","scrollBehavior","getComputedStyle","requestFrame","time","scrollX","scrollY","i","length","item","finished","position","pulse_","splice","scrollBy","scrollLeft","scrollTop","wheel","event","deltaX","deltaY","target","defaultPrevented","ctrlKey","isNodeName","src","shadowRoot","wheelDeltaX","wheelDeltaY","isDivisible","abs","wheelDelta","deltaMode","overflowing","overflowingAncestor","isTouchpad","tp","shift","clearTimeout","localStorage","SS_deltaBuffer","join","e","dpiScaledWheelDelta","allDeltasDivisableBy","preventDefault","scheduleClearCache","isChrome","Object","defineProperty","value","frameElement","parent","modifier","altKey","metaKey","shiftKey","keyCode","buttonTypes","contains","nodeName","type","isControl","URL","classList","parentNode","isContentEditable","clientHeight","scrollingElement","scrollRemaining","mousedown","clearCacheTimer","cacheX","cacheY","setInterval","setCache","elems","cache","rootScrollHeight","cached","isOverflowCSS","overflowNotHidden","overflowAutoOrScroll","isContentOverflowing","parentElement","getPropertyValue","overflow","fn","arg","addEventListener","removeEvent","removeEventListener","tag","toLowerCase","split","n","divisor","floor","SCROLL_ROOT","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","element","delay","WebKitMutationObserver","MozMutationObserver","dummy","bodyScrollTop","removeChild","exp","userAgent","isEdge","isSafari","isMobile","isIEWin7","isEnabledForBrowser","supportsPassive","get","wheelOpt","passive","wheelEvent","SmoothScroll","optionsToSet","hasOwnProperty","destroy","disconnect","SmoothScrollOptions","define","amd","exports","module"],"mappings":"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"}